.page {
  min-height: 100vh;
  padding: clamp(16px, 2.4vw, 28px) clamp(12px, 2vw, 24px) 36px;
  background:
    radial-gradient(circle at 8% 8%, color-mix(in oklab, var(--border), transparent 88%), transparent 42%),
    linear-gradient(165deg, color-mix(in oklab, var(--bg), #fff 24%), var(--bg));
  color: var(--ink);
  font-family: 'Satoshi', 'Avenir Next', 'Trebuchet MS', sans-serif;
  transition: background-color 180ms ease, color 180ms ease;
}

.shell {
  max-width: 1180px;
  margin: 0 auto;
  display: grid;
  gap: clamp(14px, 2vw, 22px);
}

.lobbyHero {
  border: 1px solid color-mix(in oklab, var(--border), #fff 16%);
  border-radius: 16px;
  padding: clamp(18px, 2.5vw, 26px);
  background: color-mix(in oklab, var(--panel), #fff 24%);
  box-shadow: 0 8px 24px color-mix(in oklab, var(--ink), transparent 90%);
  display: grid;
  gap: 14px;
  grid-template-columns: minmax(0, 1fr);
  transition: background-color 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
}

.heroLead {
  display: grid;
  gap: 10px;
}

.heroActions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.heroPrimary {
  background: linear-gradient(180deg, var(--cta-a), var(--cta-b));
}

.heroSecondary {
  background: color-mix(in oklab, var(--panel), #fff 20%);
  border-color: color-mix(in oklab, var(--border), #fff 18%);
  color: var(--ink);
}

.heroStats {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
}

.heroStat {
  border: 1px solid color-mix(in oklab, var(--border), #fff 16%);
  border-radius: 12px;
  padding: 10px 12px;
  background: color-mix(in oklab, var(--panel), #fff 15%);
  display: grid;
  gap: 4px;
  transition: background-color 180ms ease, border-color 180ms ease;
}

.heroStatLabel {
  margin: 0;
  font-size: 0.7rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--muted);
}

.heroStatValue {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 720;
  color: var(--ink);
}

.heroAsideHint {
  margin: 0;
  color: var(--muted);
  font-size: 0.85rem;
}

.lobbyQuick {
  border: 1px solid color-mix(in oklab, var(--border), #fff 16%);
  border-radius: 16px;
  padding: clamp(14px, 2.2vw, 20px);
  background: color-mix(in oklab, var(--panel), #fff 28%);
  display: grid;
  gap: 10px;
  transition: background-color 180ms ease, border-color 180ms ease;
}

.hero {
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
  background: color-mix(in oklab, var(--panel), #fff 26%);
  box-shadow: 0 8px 24px color-mix(in oklab, var(--ink), transparent 90%);
  transition: background-color 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
}

@keyframes lobbyReveal {
  from {
    opacity: 0;
    transform: translateY(6px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.heroTop {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 10px;
  flex-wrap: wrap;
}

.title {
  margin: 0;
  font-size: clamp(1.85rem, 4vw, 2.85rem);
  letter-spacing: -0.01em;
  font-family: var(--title-font);
  line-height: 0.98;
}

.heroCount {
  padding: 5px 10px;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--border), #fff 14%);
  background: color-mix(in oklab, var(--panel), #fff 35%);
  font-size: 0.82rem;
  font-weight: 700;
  transition: background-color 180ms ease, border-color 180ms ease, color 180ms ease;
}

.heroMeta {
  margin: 5px 0 0;
  color: var(--muted);
}

.sessionBar {
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.sessionTone {
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 0.78rem;
  border: 1px solid transparent;
  font-weight: 700;
}

.sessionToneOk {
  background: #e8f7e0;
  border-color: #7cb26b;
  color: #295a26;
}

.sessionToneHigh {
  background: #fff2d7;
  border-color: #d69e4e;
  color: #73460d;
}

.sessionToneCritical {
  background: #fde2df;
  border-color: #cb6c64;
  color: #7d1e17;
}

.autosaveToggle {
  margin-top: 6px;
  display: inline-flex;
  align-items: center;
  gap: 7px;
  font-weight: 600;
}

.autosaveWarning {
  margin: 7px 0 0;
  color: color-mix(in oklab, var(--danger), var(--ink) 25%);
  font-weight: 700;
}

.kpis {
  margin-top: 14px;
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
}

.kpi {
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 9px 10px;
  background: color-mix(in oklab, var(--panel), #fff 24%);
}

.kpiLabel {
  display: block;
  font-size: 0.78rem;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.kpiValue {
  margin-top: 2px;
  font-size: 1.07rem;
  font-weight: 700;
}

.tension {
  margin-top: 14px;
  display: grid;
  gap: 5px;
}

.tensionTrack {
  height: 12px;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--border), #fff 20%);
  background: color-mix(in oklab, var(--panel-strong), #fff 14%);
  overflow: hidden;
}

.tensionBar {
  height: 100%;
  width: 100%;
  transform-origin: left center;
  transition: transform 280ms ease;
  background: linear-gradient(
    90deg,
    color-mix(in oklab, var(--cta-a), #fff 20%) 0%,
    var(--cta-a) 45%,
    var(--cta-b) 100%
  );
}

.columns {
  display: grid;
  gap: 14px;
  grid-template-columns: minmax(0, 1fr);
}

.columns > * {
  min-width: 0;
}

.card {
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  background: var(--panel);
}

.cardTitle {
  margin: 0;
  font-family: 'Baskerville', 'Georgia', serif;
}

.cardHint {
  margin: 4px 0 12px;
  color: var(--muted);
}

.finalCard {
  background: color-mix(in oklab, var(--panel), #fff 28%);
}

.finalWinner {
  border: 1px solid color-mix(in oklab, var(--border), #fff 12%);
  border-radius: 12px;
  padding: 10px;
  display: grid;
  gap: 2px;
  margin-bottom: 12px;
  background: color-mix(in oklab, var(--panel-strong), #fff 14%);
}

.finalWinner span {
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.78rem;
}

.finalWinner strong {
  font-size: 1.25rem;
}

.finalGrid {
  display: grid;
  gap: 12px;
  margin-bottom: 14px;
}

.finalSubtitle {
  margin: 0 0 6px;
  font-size: 1rem;
}

.finalList {
  margin: 0;
  padding-left: 20px;
  display: grid;
  gap: 6px;
}

.replayGrid {
  display: grid;
  gap: 8px;
}

.setupGrid {
  display: grid;
  gap: 14px;
}

.rosterGrid {
  display: grid;
  gap: 6px;
  grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
}

.rosterItem {
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid color-mix(in oklab, var(--border), #fff 18%);
  border-radius: 10px;
  padding: 8px;
  background: color-mix(in oklab, var(--panel), #fff 22%);
}

.rosterItemCustom {
  position: relative;
}

.characterToggle {
  width: 16px;
  height: 16px;
  accent-color: var(--accent);
  margin: 0;
}

.rosterNameInput {
  flex: 1;
  min-width: 0;
}

.rosterNameInputWithRemove {
  padding-right: 86px;
}

.removeButton {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.12s ease;
}

.rosterItemCustom:hover .removeButton,
.rosterItemCustom:focus-within .removeButton {
  opacity: 1;
  pointer-events: auto;
}

.controlsGrid {
  display: grid;
  gap: 9px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.controlLabel {
  display: grid;
  gap: 5px;
  font-size: 0.94rem;
}

.inlineControls {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.input,
.select,
.button {
  border: 1px solid color-mix(in oklab, var(--border), #fff 18%);
  border-radius: 8px;
  padding: 8px 10px;
  font: inherit;
}

.input,
.select {
  background: color-mix(in oklab, var(--panel), #fff 35%);
  color: var(--ink);
  transition: background-color 160ms ease, border-color 160ms ease, color 160ms ease;
}

.button {
  background: linear-gradient(180deg, var(--cta-a), var(--cta-b));
  color: var(--cta-ink);
  font-weight: 600;
  cursor: pointer;
  min-height: 44px;
  transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease, background-color 160ms ease, border-color 160ms ease, color 160ms ease;
}

.button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 16px color-mix(in oklab, var(--cta-b), transparent 72%);
  filter: brightness(1.02);
}

.heroPrimary:hover {
  filter: none;
  transform: translateY(-1px);
  box-shadow: 0 12px 22px color-mix(in oklab, var(--cta-b), transparent 62%);
}

.heroSecondary:hover {
  filter: none;
  background: color-mix(in oklab, var(--panel-strong), #fff 32%);
}

.button:disabled {
  opacity: 0.58;
  cursor: not-allowed;
}

.buttonGhost {
  background: color-mix(in oklab, var(--panel), #fff 25%);
  color: var(--ink);
}

.buttonDanger {
  border-color: color-mix(in oklab, var(--danger), #000 24%);
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--danger), #fff 26%),
    color-mix(in oklab, var(--danger), #000 8%)
  );
  color: oklch(0.98 0.004 95);
}

.eventShell {
  display: grid;
  gap: 14px;
  grid-template-columns: minmax(0, 1fr);
}

.speedControls {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 7px;
}

.speedButton {
  border: 1px solid color-mix(in oklab, var(--border), #fff 18%);
  border-radius: 999px;
  padding: 6px 10px;
  background: color-mix(in oklab, var(--panel), #fff 30%);
  color: var(--ink);
  cursor: pointer;
  font-weight: 600;
  width: 100%;
  min-width: 0;
  min-height: 44px;
}

.speedButtonActive {
  background: linear-gradient(180deg, var(--cta-a), var(--cta-b));
  color: var(--cta-ink);
  border-color: color-mix(in oklab, var(--cta-b), #000 20%);
}

.feedFilters {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
}

.feedList {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
}

.feedItem {
  border: 1px solid color-mix(in oklab, var(--border), #fff 16%);
  border-radius: 12px;
  padding: 10px 11px;
  background: color-mix(in oklab, var(--panel), #fff 20%);
}

.feedItemNew {
  animation: popIn 420ms ease;
}

@keyframes popIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
    background: color-mix(in oklab, var(--panel-strong), #fff 6%);
  }

  to {
    opacity: 1;
    transform: translateY(0);
    background: color-mix(in oklab, var(--panel), #fff 20%);
  }
}

.feedMeta {
  margin: 0;
  display: flex;
  justify-content: space-between;
  color: var(--muted);
  font-size: 0.82rem;
}

.feedHeadline {
  margin: 4px 0 3px;
  font-weight: 700;
}

.feedImpact {
  margin: 0;
  color: var(--muted);
}

.tagRow {
  margin-top: 7px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.tag {
  border-radius: 999px;
  padding: 3px 8px;
  font-size: 0.78rem;
  background: color-mix(in oklab, var(--panel-strong), #fff 10%);
  color: var(--ink);
}

.sideGrid {
  display: grid;
  gap: 14px;
  align-content: start;
}

.participantList,
.relationsList,
.matchList {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 8px;
}

.participantItem,
.relationItem,
.matchItem {
  border: 1px solid color-mix(in oklab, var(--border), #fff 18%);
  border-radius: 10px;
  padding: 8px 9px;
  background: color-mix(in oklab, var(--panel), #fff 22%);
}

.matchLink {
  display: block;
  color: inherit;
  text-decoration: none;
}

.filtersRow {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  margin-bottom: 12px;
}

.statusBadge {
  display: inline-block;
  border-radius: 999px;
  padding: 3px 10px;
  font-size: 0.78rem;
  font-weight: 700;
  border: 1px solid transparent;
}

.statusSetup {
  background: #fff1cd;
  border-color: #ddb15d;
  color: #6c4516;
}

.statusRunning {
  background: #e7f4ff;
  border-color: #6da5d4;
  color: #18496f;
}

.statusFinished {
  background: #f2f3f4;
  border-color: #adb4bb;
  color: #32373d;
}

.status {
  font-weight: 700;
  text-transform: uppercase;
  font-size: 0.75rem;
}

.statusAlive {
  color: #247454;
}

.statusInjured {
  color: #9f5e00;
}

.statusEliminated {
  color: var(--danger);
}

.relationPositive {
  color: #1a6f57;
}

.relationNegative {
  color: #9d2e20;
}

.info {
  margin: 10px 0 0;
  color: var(--muted);
  font-weight: 600;
}

.transitionOverlay {
  position: fixed;
  inset: 0;
  z-index: 120;
  display: grid;
  place-items: center;
  background: color-mix(in oklab, var(--ink), transparent 32%);
  animation: overlayIn 200ms ease;
}

.transitionOverlayExit {
  animation: overlayOut 180ms ease forwards;
}

.transitionContent {
  width: min(90vw, 420px);
  border: 1px solid color-mix(in oklab, var(--border), #fff 14%);
  border-radius: 16px;
  padding: 20px 18px;
  text-align: center;
  background: color-mix(in oklab, var(--panel), #fff 14%);
  box-shadow: 0 18px 50px color-mix(in oklab, var(--ink), transparent 70%);
}

.transitionSpinner {
  width: 46px;
  height: 46px;
  border-radius: 999px;
  border: 4px solid color-mix(in oklab, var(--border), transparent 45%);
  border-top-color: var(--cta-a);
  margin: 0 auto 12px;
  animation: spin 780ms linear infinite;
}

.transitionTitle {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--ink);
}

.transitionHint {
  margin: 8px 0 0;
  color: var(--muted);
}

@keyframes overlayIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes overlayOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.button:focus-visible,
.speedButton:focus-visible,
.input:focus-visible,
.select:focus-visible,
.matchLink:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--accent-2), var(--accent) 40%);
  outline-offset: 2px;
}

@media (min-width: 980px) {
  .lobbyHero {
    grid-template-columns: minmax(0, 1fr) minmax(220px, 280px);
    align-items: start;
  }

  .columns {
    grid-template-columns: minmax(300px, 340px) minmax(0, 1fr);
    align-items: start;
  }

  .columns > .eventShell:only-child {
    grid-column: 1 / -1;
  }

  .eventShell {
    grid-template-columns: minmax(0, 1fr) minmax(280px, 340px);
    align-items: start;
  }

  .finalGrid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .replayGrid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 720px) {
  .speedControls {
    display: flex;
    flex-wrap: wrap;
  }

  .speedButton {
    width: auto;
  }
}

@media (prefers-reduced-motion: reduce) {
  .lobbyQuick {
    animation: none;
  }

  .transitionOverlay,
  .transitionOverlayExit,
  .transitionSpinner {
    animation-duration: 1ms;
    animation-iteration-count: 1;
  }
}
